print("=== Vector Math Test Suite ===")

# 1. Setup Data
let A = [10, 20, 30, 40]
let B = [2, 4, 5, 8]

# 2. Test Addition
print("Testing vec_add...")
let sum = vec_add(A, B)
# 10+2=12, 20+4=24, 30+5=35, 40+8=48
assert(sum[0] == 12)
assert(sum[3] == 48)
print("  [PASS] Addition")

# 3. Test Subtraction
print("Testing vec_sub...")
let sub = vec_sub(A, B)
# 10-2=8, 20-4=16
assert(sub[0] == 8)
assert(sub[1] == 16)
print("  [PASS] Subtraction")

# 4. Test Multiplication
print("Testing vec_mul...")
let mul = vec_mul(A, B)
# 10*2=20, 40*8=320
assert(mul[0] == 20)
assert(mul[3] == 320)
print("  [PASS] Multiplication")

# 5. Test Division
print("Testing vec_div...")
let div = vec_div(A, B)
# 10/2=5, 20/4=5
assert(div[0] == 5)
assert(div[1] == 5)
print("  [PASS] Division")

# 6. BENCHMARK
print("\n=== Speed Benchmark (50,000 items) ===")
let size = 50000
let BigA = []
let BigB = []

# Generate data
for (let i = 0; i < size; i++) {
    append(BigA, i)
    append(BigB, 2)
}

print("Running vec_mul (ASM)...")
let start = clock()
let Result = vec_mul(BigA, BigB) # Should be instant
let end = clock()

print("Time taken:", end - start)
print("First item (0*2):", Result[0])
print("Last item (49999*2):", Result[size-1])

assert(Result[size-1] == 99998)
print("=== ALL TESTS PASSED ===")